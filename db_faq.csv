question,answer
How do I reset a database connection pool?,"To reset a database connection pool, you can restart the application server or use the connection pool management interface. For most connection pools (HikariCP, C3P0, etc.), you can call the close() method on the DataSource and recreate it. In production, coordinate with the team to avoid service disruption."
What causes database connection timeout errors?,"Database connection timeout errors typically occur due to: 1) Network issues between application and database, 2) Database server being overloaded, 3) Connection pool exhaustion, 4) Firewall or security group blocking connections, 5) Incorrect connection string or credentials. Check network connectivity, database server health, and connection pool settings."
How do I optimize a slow SQL query?,"To optimize a slow SQL query: 1) Use EXPLAIN or EXPLAIN ANALYZE to understand the execution plan, 2) Add appropriate indexes on columns used in WHERE, JOIN, and ORDER BY clauses, 3) Avoid SELECT * and only fetch needed columns, 4) Use query hints if necessary, 5) Consider partitioning large tables, 6) Update table statistics. Always test changes in a non-production environment first."
What is the difference between a database migration and a schema change?,"A database migration is a version-controlled script that applies schema changes in a structured, repeatable way. A schema change is the actual modification to the database structure (adding/removing tables, columns, indexes, etc.). Migrations ensure schema changes are tracked, can be rolled back, and are applied consistently across environments."
How do I handle database deadlocks?,"To handle database deadlocks: 1) Implement retry logic with exponential backoff, 2) Ensure transactions are as short as possible, 3) Access tables in a consistent order across transactions, 4) Use appropriate isolation levels, 5) Monitor and log deadlock occurrences. Most databases automatically detect and rollback one of the deadlocked transactions."
What should I do if I accidentally delete data from a database?,"If you accidentally delete data: 1) Stop any further operations on the affected table immediately, 2) Check if you have recent backups, 3) Contact the DBA team immediately, 4) Check if point-in-time recovery is available, 5) Review transaction logs if enabled. Time is critical - the sooner you act, the better the recovery chances."
How do I check database connection health?,"To check database connection health: 1) Run a simple query like SELECT 1, 2) Check connection pool metrics (active/idle connections), 3) Monitor connection timeout errors in logs, 4) Use database-specific health check commands, 5) Verify network connectivity (ping, telnet to database port), 6) Check database server resource usage (CPU, memory, connections)."
What is connection pooling and why is it important?,"Connection pooling is a technique that maintains a cache of database connections that can be reused across multiple requests. It's important because: 1) Creating connections is expensive, 2) It limits the number of concurrent connections to the database, 3) It improves application performance, 4) It helps prevent connection exhaustion. Configure pool size based on your application's concurrency needs."
How do I backup a database?,"Database backup methods vary by database type: 1) Use native backup tools (pg_dump for PostgreSQL, mysqldump for MySQL, etc.), 2) Enable automated backups if using managed services (RDS, Cloud SQL), 3) Schedule regular backups based on your RPO requirements, 4) Test restore procedures regularly, 5) Store backups in a separate location from the primary database. Always verify backup integrity."
What causes database lock timeouts?,"Database lock timeouts occur when: 1) A transaction holds locks for too long, 2) Multiple transactions compete for the same resources, 3) Deadlocks are detected, 4) Long-running queries block other operations, 5) Transaction isolation level is too restrictive. Solutions include: optimizing queries, reducing transaction scope, using appropriate isolation levels, and implementing retry logic."
How do I add an index to improve query performance?,"To add an index: 1) Identify the columns used in WHERE, JOIN, and ORDER BY clauses, 2) Use CREATE INDEX statement (e.g., CREATE INDEX idx_name ON table_name(column_name)), 3) Consider composite indexes for multiple columns, 4) Monitor index usage and maintenance overhead, 5) Be cautious with indexes on frequently updated tables as they can slow down writes. Test in non-production first."
What is a database transaction and when should I use it?,"A database transaction is a sequence of operations that are executed as a single unit of work. Use transactions when: 1) Multiple related operations must succeed or fail together (ACID properties), 2) Data consistency is critical, 3) You need to ensure atomicity. Transactions ensure data integrity but can impact performance, so keep them as short as possible."
How do I troubleshoot database connection refused errors?,"Connection refused errors indicate the database server is not accepting connections. Check: 1) Database service is running, 2) Database is listening on the correct port, 3) Firewall rules allow connections, 4) Connection string has correct host and port, 5) Database user has proper permissions, 6) Maximum connections limit not reached, 7) Network connectivity between client and server."
What is the difference between a primary key and a foreign key?,"A primary key uniquely identifies each row in a table and cannot be NULL. A foreign key is a column that references the primary key of another table, establishing a relationship between tables. Foreign keys enforce referential integrity, ensuring data consistency across related tables."
How do I monitor database performance?,"Monitor database performance by: 1) Tracking query execution times, 2) Monitoring resource usage (CPU, memory, disk I/O), 3) Reviewing slow query logs, 4) Using database-specific monitoring tools, 5) Setting up alerts for critical metrics, 6) Analyzing connection pool statistics, 7) Monitoring replication lag if applicable. Use tools like pg_stat_statements, MySQL Performance Schema, or CloudWatch for managed databases."
What should I do if a database migration fails?,"If a migration fails: 1) Don't panic - check the error message carefully, 2) Review the migration script for syntax errors, 3) Check if the migration was partially applied, 4) Verify database state matches expected pre-migration state, 5) Fix the migration script, 6) Rollback if possible, 7) Test the fixed migration in a non-production environment, 8) Re-run the migration. Always have a rollback plan."
How do I secure database credentials?,"Secure database credentials by: 1) Never hardcoding credentials in code, 2) Using environment variables or secret management services (AWS Secrets Manager, HashiCorp Vault), 3) Implementing least privilege access, 4) Rotating credentials regularly, 5) Using encrypted connections (SSL/TLS), 6) Restricting network access to database, 7) Auditing access logs, 8) Using strong passwords and avoiding default credentials."
What is database replication and why is it used?,"Database replication is the process of copying and maintaining database objects in multiple databases. It's used for: 1) High availability and disaster recovery, 2) Load distribution (read replicas), 3) Geographic distribution, 4) Backup and reporting. Replication can be synchronous (strong consistency) or asynchronous (better performance, eventual consistency)."
How do I resolve database schema conflicts?,"To resolve schema conflicts: 1) Identify the conflicting changes, 2) Coordinate with team members to understand intended changes, 3) Merge changes carefully, ensuring no data loss, 4) Test merged schema in development, 5) Use version control for schema changes, 6) Consider using migration tools that detect conflicts, 7) Document the resolution process. Communication is key to preventing conflicts."
What causes database connection pool exhaustion?,"Connection pool exhaustion occurs when: 1) Pool size is too small for application load, 2) Connections are not properly closed/returned to pool, 3) Long-running transactions hold connections, 4) Database server is slow to respond, 5) Connection leaks in application code. Solutions: increase pool size, fix connection leaks, optimize queries, implement connection timeout, monitor pool usage."
How do I perform a database rollback?,"To perform a database rollback: 1) If using transactions, use ROLLBACK command before COMMIT, 2) For migrations, use the rollback script if available, 3) Restore from backup if changes were committed, 4) Use point-in-time recovery if supported, 5) Manually reverse changes if necessary (risky). Always test rollback procedures in non-production environments. Prevention (backups, transactions) is better than recovery."
